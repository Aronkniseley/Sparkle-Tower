

//a sketch to chase the lights up and back down a "TEST YOUR STRENGTH" carnival game for COACH.  June 4th, 2018.

const byte pot = A0; //there's a 1k pot connected to A0 with the intention of using it to control the speed of the chase. Use a linear potentiometer for best results 

void setup(){

const int firstBulb = 26; //the first bulb is connected to pin 26
const int lastBulb = 46; //the last bulb is connected to pin 46

for (byte i=firstBulb; i<=lastBulb; i++){
pinMode (i, OUTPUT); //set all bulb pins as outputs

} //closes the for loop

pinMode (A0, INPUT); //set A0 as an analog input

} //closes the setup

void loop(){
 
 const byte firstBulb = 26; //the first bulb is connected to  pin 26
 const byte secondToLastBulb = 45; //the second to last bulb is connected to pin 45
 const byte lastBulb = 46; //the last bulb is connected to pin 46
 int potSetting = analogRead (pot); //create a variable that reads the analog voltage of the potentiometer
 int delayTime = map(potSetting, 0, 1023, 10, 1000); //map the value to 10mS up to 1 second

    for (byte i = firstBulb; i <= secondToLastBulb; i++) { //illuminate lights in order
      int forPotSetting = analogRead (pot); //create a variable that reads the analog voltage of the potentiometer
      int forDelayTime = map (forPotSetting, 0, 1023, 10, 1000); //map the value to 10mS up to 1 second
      digitalWrite (i, HIGH); //digital write the for loop variable HIGH
      delay (forDelayTime); //set by the pot from 10mS to 1 second
      
    } //closes the for loop
    
    digitalWrite (lastBulb, HIGH);
    delay (delayTime);
    
    for (byte i = lastBulb; i >= firstBulb; i--) { //turn off lights in reverse order
      int forPotSetting = analogRead (pot); //create a variable that reads the analog voltage of the potentiometer
      int forDelayTime = map (forPotSetting, 0, 1023, 10, 1000); //map the value to 10mS up to 1 second
      digitalWrite (i, LOW); //digital write the for loop variable LOW
      delay (forDelayTime); //set by the pot from 10mS to 1 second
      
    } //closes the for loop

} //closes the loop
